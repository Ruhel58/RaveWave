(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/logo.3307c695.svg"},44:function(e,t,a){e.exports=a.p+"static/media/googleplay.9078aafd.svg"},45:function(e,t,a){e.exports=a.p+"static/media/youtube.46bc6904.svg"},46:function(e,t,a){e.exports=a.p+"static/media/spotify.e359ad39.svg"},47:function(e,t,a){e.exports=a.p+"static/media/deezer.31d9f3aa.svg"},52:function(e,t,a){e.exports=a(94)},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},73:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),s=a(19),r=a.n(s),o=(a(57),a(7)),c=a(8),i=a(11),u=a(9),m=a(10),p=(a(58),a(120)),d=a(123),g=a(51),h=a(121),f=a(21),E=a(98);a(59);var y=a(95),v=a(96),S=a(97),b=a(99),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onClickLogin=function(){a.fetchAndLogin()},a.onTextBoxChangeUsername=function(e){a.setState({usernameLogin:e.target.value})},a.onTextBoxChangePassword=function(e){a.setState({passwordLogin:e.target.value})},a._handleKeyPress=function(e){"Enter"===e.key&&a.fetchAndLogin()},a.state={usernameLogin:"",passwordLogin:"",loginMessage:"",success:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"fetchAndLogin",value:function(){var e=this,t=this.props.triggerSetLoadingToFalse;if(void 0!==t){var a=this.props.triggerUpdateToken;if(void 0!==a){var n=this.state,l=n.usernameLogin,s=n.passwordLogin;fetch("/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:l,password:s})}).then(function(e){return e.json()}).then(function(n){n.success?(console.log("response "+n.user_id),a(n.token,n.user_id),t(),function(e,t){console.log("adding..."),e||console.error("Key is missing");try{localStorage.setItem(e,JSON.stringify(t))}catch(a){console.error("Error: "+a)}console.timeLog(localStorage.getItem(e))}("RaveWave",{token:n.token,userid:n.user_id}),e.setState({usernameLogin:"",passwordLogin:"",loginMessage:n.message})):e.setState({loginMessage:n.message,success:n.success})}).catch(function(e){return console.error("Error: ",e)})}}}},{key:"render",value:function(){var e=this.state,t=e.usernameLogin,a=e.passwordLogin,n=e.loginMessage,s=e.success;return l.a.createElement(y.a,{className:"userForm"},l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement("h3",{className:"formTitle"},"Login")),l.a.createElement(v.a,null,l.a.createElement(S.a,{type:"text",placeholder:"Username",value:t,onChange:this.onTextBoxChangeUsername,onKeyPress:this._handleKeyPress})),l.a.createElement(v.a,null,l.a.createElement(S.a,{type:"password",placeholder:"Password",value:a,onChange:this.onTextBoxChangePassword,onKeyPress:this._handleKeyPress})),l.a.createElement(v.a,null,l.a.createElement("h1",null,l.a.createElement(E.a,{href:"#",color:"purple",onClick:this.onClickLogin,size:"xl",className:"defaultButton",pill:!0},l.a.createElement("div",{className:"text"},"Login")))),l.a.createElement(v.a,null,console.log(n),n?l.a.createElement(b.a,{color:s?"success":"danger",fade:"true",size:"xs"},n):null)),l.a.createElement(p.a,null))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).fetchAndSignup=function(){var e=a.props.triggerSetLoadingToFalse;if(void 0!==e){var t=a.state,n=t.usernameSignup,l=t.passwordSignup,s=t.firstnameSignup,r=t.lastnameSignup,o=t.emailSignup;fetch("/api/user/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:n,firstName:s,lastName:r,email:o,password:l})}).then(function(e){return e.json()}).then(function(t){t.success?(e(),a.setState({signUpMessage:t.message,success:t.success,firstnameSignup:"",lastnameSignup:"",usernameSignup:"",passwordSignup:"",emailSignup:""})):a.setState({signUpMessage:t.message})}).catch(function(e){return console.error("Error: ",e)})}else console.error("Pass in the callback function as a prop")},a.onClickSignup=function(){a.fetchAndSignup()},a.onTextBoxChangeUsername=function(e){a.setState({usernameSignup:e.target.value})},a.onTextBoxChangePassword=function(e){a.setState({passwordSignup:e.target.value})},a.onTextBoxChangeFirstName=function(e){a.setState({firstnameSignup:e.target.value})},a.onTextBoxChangeLastName=function(e){a.setState({lastnameSignup:e.target.value})},a.onTextBoxChangeEmail=function(e){a.setState({emailSignup:e.target.value})},a.state={usernameSignup:"",passwordSignup:"",firstnameSignup:"",lastnameSignup:"",emailSignup:"",signUpMessage:"",success:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.usernameSignup,a=e.passwordSignup,n=e.firstnameSignup,s=e.lastnameSignup,r=e.emailSignup,o=e.signUpMessage,c=e.success;return l.a.createElement(y.a,{className:"userForm"},l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement("h3",{className:"formTitle"},"Sign up")),l.a.createElement(v.a,null,l.a.createElement(S.a,{type:"text",placeholder:"First Name",value:n,onChange:this.onTextBoxChangeFirstName})),l.a.createElement(v.a,null,l.a.createElement(S.a,{type:"text",placeholder:"Last Name",value:s,onChange:this.onTextBoxChangeLastName})),l.a.createElement(v.a,null,l.a.createElement(S.a,{type:"email",placeholder:"Email",value:r,onChange:this.onTextBoxChangeEmail})),l.a.createElement(v.a,null,l.a.createElement(S.a,{type:"text",placeholder:"Username",value:t,onChange:this.onTextBoxChangeUsername})),l.a.createElement(v.a,null,l.a.createElement(S.a,{type:"password",placeholder:"Password",value:a,onChange:this.onTextBoxChangePassword})),l.a.createElement(v.a,null,l.a.createElement("h1",null,l.a.createElement(E.a,{href:"#",color:"purple",onClick:this.onClickSignup,size:"xl",className:"defaultButton",pill:!0},l.a.createElement("div",{className:"text"},"Signup")))),l.a.createElement(v.a,null,o?l.a.createElement(b.a,{color:c?"success":"danger",fade:"true",size:"xs"},o):null)))}}]),t}(n.Component),P=a(20),N=a.n(P),j=a(25),C=a(48),w=a(49),T=a(122),x=a(103),A=a(104),L=a(105),M=a(106),U=a(107),R=a(100),B=a(101),_=a(102),I=a(44),K=a.n(I),F=a(45),z=a.n(F),J=a(46),D=a.n(J),W=a(47),G=a.n(W),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggle=function(){a.setState(function(e){return{collapse:!e.collapse}})},a.state={collapse:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.song;return l.a.createElement("div",null,l.a.createElement("div",{onClick:this.toggle,className:"songName"},l.a.createElement("strong",null,e.name)," by ",e.artist),l.a.createElement(R.a,{isOpen:this.state.collapse},l.a.createElement(B.a,null,l.a.createElement(_.a,null,l.a.createElement("strong",null,"Name:")," ",e.name,l.a.createElement("br",null),l.a.createElement("strong",null,"Artist:")," ",e.artist,l.a.createElement("br",null),l.a.createElement("strong",null,"Album:")," ",e.albumName,l.a.createElement("br",null),l.a.createElement("strong",null,"Year:")," ",e.year,l.a.createElement("br",null)," ",l.a.createElement("strong",null,"Open via:"),l.a.createElement("br",null),e.youtubeUrl?l.a.createElement("a",{href:e.youtubeUrl,target:"_blank",rel:"noopener noreferrer"},l.a.createElement("img",{src:z.a,alt:"youtube logo",className:"icons"})):null,e.spotifyUrl?l.a.createElement("a",{href:e.spotifyUrl,target:"_blank",rel:"noopener noreferrer"},l.a.createElement("img",{src:D.a,alt:"spotify logo",className:"icons"})):null,e.googleMusicUrl?l.a.createElement("a",{href:e.googleMusicUrl,target:"_blank",rel:"noopener noreferrer"},l.a.createElement("img",{src:K.a,alt:"google music logo",className:"icons"})):null,e.deezerUrl?l.a.createElement("a",{href:e.deezerUrl,target:"_blank",rel:"noopener noreferrer"},l.a.createElement("img",{src:G.a,alt:"deezer logo",className:"icons"})):null))))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).fetchAndAdd=function(e,t,n){fetch("/api/user/createplaylist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:n,token:t,playlistName:e})}).then(function(e){return e.json()}).then(function(e){a.fetchUserProfile(),a.setState({newPlaylistSuccess:e.success,newPlaylistMessage:e.message})}).catch(function(e){return console.error("Error: ",e)})},a.fetchUserProfile=function(){var e=a.props,t=e.token,n=e.profile;fetch("/api/user/retrieveuser?token="+t+"&userid="+n._id,{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.success?(console.log("yes"),a.setState({playlists:e.user.playlists})):console.log("ERROR fetching data ")})},a.togglePopover=function(){a.setState({popoverOpen:!a.state.popoverOpen})},a.toggleModal=function(){a.setState(function(e){return{modal:!e.modal}})},a.updateCheckState=function(e){e.target.checked?a.setState({toAdd:a.state.toAdd.concat([e.target.value])}):a.setState({toAdd:a.state.toAdd.filter(function(t){return t!==e.target.value})})},a.getSongs=function(){return a.props.result.songs.map(function(e){return l.a.createElement("div",{className:"listOfSongs"},l.a.createElement(C.a,null,l.a.createElement(S.a,{addon:!0,type:"checkbox",value:e._id,onClick:a.updateCheckState}),l.a.createElement(q,{song:e})))})},a.getPlaylists=function(){return a.state.playlists.map(function(e){return l.a.createElement(f.a,null,l.a.createElement(w.a,{onClick:function(){return a.addToPlaylist(e)},color:"link"},e.playlistName))})},a._handleKeyPress=function(e){"Enter"===e.key&&a.createPlaylist()},a.addToPlaylist=function(){var e=Object(j.a)(N.a.mark(function e(t){var n,l,s,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.toAdd.length,l=0;case 2:if(!(l<n)){e.next=12;break}return s=a.state.toAdd[l],r=a.props.profile,e.next=7,fetch("/api/user/addsongtoplaylist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:r._id,token:a.props.token,playlistid:t._id,songid:s})}).then(function(e){return e.json()}).then(function(){var e=Object(j.a)(N.a.mark(function e(t){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.success,a.setState({message:t.message,addToPlaylistsuccess:t.success});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){return console.error("Error: ",e)});case 7:a.togglePopover(),a.forceUpdate();case 9:l++,e.next=2;break;case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleCallback=function(e,t){a.setState({newPlaylistMessage:e,newPlaylistSuccess:t})},a.createPlaylist=function(){var e=a.state.newPlaylist;if(""!==e){var t=a.props,n=t.token,l=t.profile;a.fetchAndAdd(e,n,l._id),a.getPlaylists(),a.forceUpdate()}else a.setState({newPlaylistSuccess:!1,newPlaylistMessage:"empty"})},a.onPlaylistChange=function(e){a.setState({newPlaylist:e.target.value})},a.state={addToPlaylistsuccess:!1,popoverOpen:!1,modal:!1,message:"",newPlaylist:"",newPlaylistMessage:"",newPlaylistSuccess:!1,toAdd:[],playlists:a.props.profile.playlists,userProfile:null},console.log(a.state.playlists),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(f.a,null,this.getSongs(),l.a.createElement("br",null),l.a.createElement(w.a,{color:"purple",id:"Popover1"},"Add to playlist"),console.log(this.state.addToPlaylistsuccess),this.state.addToPlaylistsuccess?l.a.createElement(b.a,null,"Song succesfully added to playlist"):null,l.a.createElement(T.a,{placement:"left",isOpen:this.state.popoverOpen,target:"Popover1",toggle:this.togglePopover},l.a.createElement(x.a,null,"Playlists"),l.a.createElement(A.a,{className:"popoverBody"},this.getPlaylists(),l.a.createElement(L.a,{divider:!0}),l.a.createElement(M.a,null,l.a.createElement("h6",null,"Create Playlist")),l.a.createElement(M.a,{size:"md",className:"search"},l.a.createElement(S.a,{type:"text",placeholder:"Playlist Name",onChange:this.onPlaylistChange,value:this.state.newPlaylist,onKeyPress:this._handleKeyPress}),l.a.createElement(U.a,{addonType:"append"},l.a.createElement(w.a,{color:"purple",onClick:this.createPlaylist},"Add")),"empty"===this.state.newPlaylistMessage?l.a.createElement("div",null,l.a.createElement(b.a,{color:"danger "},"Enter a name for the playlist")):null,this.state.newPlaylistSuccess?l.a.createElement("div",null,l.a.createElement(b.a,null,this.state.newPlaylistMessage)):null))))}}]),t}(n.Component),Q=a(108),V=a(125),$=a(109),H=a(110),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggle=function(){a.setState(function(e){return{modal:!e.modal}})},a.state={modal:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.result,a=e.profile,n=e.token;return l.a.createElement("div",null,l.a.createElement(Q.a,null,l.a.createElement("h3",null,l.a.createElement(w.a,{color:"link",onClick:this.toggle},t.name+"   ",l.a.createElement(E.a,{color:"purple",pill:!0},t.songs.length))),l.a.createElement(V.a,{isOpen:this.state.modal,toggle:this.toggle},l.a.createElement($.a,{toggle:this.toggle},t.name),l.a.createElement(H.a,null,l.a.createElement(Y,{profile:a,result:t,token:n})))))}}]),t}(n.Component),Z=a(112),ee=a(111),te=a(71),ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggle=function(){a.setState(function(e){return{modal:!e.modal}})},a.toggleNested=function(){a.setState({nestedModal:!a.state.nestedModal,closeAll:!1})},a.toggleAll=function(){a.setState({nestedModal:!a.state.nestedModal,closeAll:!0})},a.downloadPlaylist=function(){for(var e=a.props.playlist,t=e.playlistName+"\n------------------------------------------------------------------\n\n",n=0;n<e.playlistSongs.length;n++)t+="Song "+(n+1)+":\n",t+="\t Name: "+e.playlistSongs[n].name+"\n\t Artist: "+e.playlistSongs[n].artist+"\n\t Year: "+e.playlistSongs[n].year+"\n\n";var l=new Blob([t],{type:"text/plain;charset=utf-8"});te.saveAs(l,e.playlistName+".txt",{type:"text/plain;charset=utf-8"})},a.getSongs=function(e){return e.playlistSongs.map(function(e){return l.a.createElement(f.a,null,l.a.createElement(q,{song:e}))})},a.deletePlaylist=function(){var e=a.props,t=e.token,n=e.userid,l=e.playlist,s=e.reloadData;void 0!==s?(fetch("/api/user/removeplaylist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:n,token:t,playlistid:l._id})}).then(function(e){return e.json()}).then(function(e){e.success&&a.setState({playlistRemoveMessage:e.message})}),s(),a.toggleAll()):console.error("Pass in the callback function as a prop")},a.state={modal:!1,nestedModal:!1,closeAll:!1,playlistRemoveMessage:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.playlist;return l.a.createElement(Q.a,{className:"playlistScreen"},l.a.createElement(f.a,null,l.a.createElement("span",{onClick:this.toggle},l.a.createElement("span",{className:"playlistName"},e.playlistName)),l.a.createElement(V.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},l.a.createElement($.a,{toggle:this.toggle},e.playlistName),l.a.createElement(H.a,null,this.getSongs(e),l.a.createElement("br",null),l.a.createElement(w.a,{className:"playlistOptions",color:"purple",onClick:this.downloadPlaylist},"Download Playlist"),l.a.createElement(w.a,{className:"playlistOptions",color:"danger",onClick:this.toggleNested},"Delete Playlist"),l.a.createElement(V.a,{isOpen:this.state.nestedModal,toggle:this.toggleNested,onClosed:this.state.closeAll?this.toggle:void 0},l.a.createElement(H.a,null,"Are you sure you want to delete that playlist?"),l.a.createElement(ee.a,null,l.a.createElement(w.a,{color:"purple",onClick:this.toggleNested},"No")," ",l.a.createElement(w.a,{color:"danger",onClick:this.deletePlaylist},"Yes")))))))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggle=function(){a.setState(function(e){return{modal:!e.modal}})},a.loadUser=function(){var e=a.props,t=e.token,n=e.userid;fetch("/api/user/retrieveuser?token="+t+"&userid="+n,{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.success?a.setState({profile:e.user}):console.log("ERROR fetching data ")})},a.getPlaylists=function(){a.loadUser();var e=a.props,t=e.token,n=e.userid,s=a.state.profile;if(s)return s.playlists.length<1?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("h2",{className:"subtitle"},"You seem to have no playlists")):s.playlists.map(function(e){return l.a.createElement("div",null,l.a.createElement(ae,{playlist:e,token:t,userid:n,reloadData:a.loadUser}))})},a._handleKeyPress=function(e){"Enter"===e.key&&a.createPlaylist()},a.onPlaylistChange=function(e){a.setState({newPlaylist:e.target.value})},a.createPlaylist=function(){""!==a.state.newPlaylist?(a.fetchAndAdd(),a.getPlaylists(),a.toggle()):a.setState({newPlaylistSuccess:!1,newPlaylistMessage:"empty"})},a.fetchAndAdd=Object(j.a)(N.a.mark(function e(){var t,n,l,s;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.newPlaylist,n=a.props,l=n.token,s=n.userid,e.next=4,fetch("/api/user/createplaylist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:s,token:l,playlistName:t})}).then(function(e){return e.json()}).then(function(e){a.setState({newPlaylistSuccess:e.success,newPlaylistMessage:e.message})}).catch(function(e){return console.error("Error: ",e)});case 4:case"end":return e.stop()}},e)})),a.state={modal:!1,profile:null,newPlaylist:"",newPlaylistSuccess:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadUser()}},{key:"render",value:function(){return l.a.createElement("div",{className:"playlists"},l.a.createElement(f.a,null,l.a.createElement("h1",{className:"title"},"Playlists"),l.a.createElement("div",null,l.a.createElement(Z.a,null,this.getPlaylists()),l.a.createElement(w.a,{color:"purple",onClick:this.toggle,className:"lowerButtons"},"Create Playlist")),l.a.createElement(V.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},l.a.createElement($.a,{toggle:this.toggle},"Create a new playlist"),l.a.createElement(H.a,null,l.a.createElement(S.a,{type:"text",placeholder:"Playlist Name",onChange:this.onPlaylistChange,value:this.state.newPlaylist,onKeyPress:this._handleKeyPress}),l.a.createElement(w.a,{className:"lowerButtons",color:"purple",onClick:this.createPlaylist},"Add Playlist"),"empty"===this.state.newPlaylistMessage?l.a.createElement("div",null,l.a.createElement(b.a,{color:"danger "},"Enter a name for the playlist")):null))))}}]),t}(n.Component),le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onClickSearch=function(){a.fetchAndSearch()},a.onSearchChange=function(e){a.setState({query:e.target.value})},a._handleKeyPress=function(e){"Enter"===e.key&&a.fetchAndSearch()},a.displayResults=function(){return l.a.createElement("div",null,l.a.createElement("br",null),a.state.results.map(function(e){return l.a.createElement("div",null,l.a.createElement(X,{token:a.props.sessionToken,result:e,profile:a.state.userProfile}))}))},a.fetchUserProfile=function(){var e=a.props,t=e.sessionToken,n=e.userId;fetch("/api/user/retrieveuser?token="+t+"&userid="+n,{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.success?(console.log("yes"),a.setState({userProfile:e.user})):console.log("ERROR fetching data ")})},a.processQuery=function(){var e=a.state,t=e.results,n=e.success,s=e.message;if(n)return t.length<1?l.a.createElement(b.a,{color:"danger"},s):l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("div",{className:"searchResltsTitle"},s),l.a.createElement(Z.a,null,a.displayResults()))},a.state={userProfile:null,query:"",message:"",count:0,results:null,success:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"fetchAndSearch",value:function(){var e=this,t=this.props,a=t.sessionToken,n=t.userId;fetch("/api/user/search?token="+a+"&userid="+n+"&search="+this.state.query,{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.success?e.setState({message:t.message,count:t.count,results:t.results,success:t.success}):e.setState({success:t.success,message:t.success})})}},{key:"componentDidMount",value:function(){this.fetchUserProfile()}},{key:"render",value:function(){var e=this,t=this.state.query;return l.a.createElement("div",{className:"searchScreen"},l.a.createElement(p.a,null,l.a.createElement(d.a,null,l.a.createElement(g.a,{path:"/playlist",exact:!0,render:function(t){return l.a.createElement("div",null,l.a.createElement(ne,Object.assign({},t,{userid:e.props.userId,token:e.props.sessionToken})))}}),l.a.createElement(g.a,{path:"/home",exact:!0,render:function(a){return l.a.createElement("div",null,l.a.createElement(M.a,null,l.a.createElement("h4",{className:"title"},"Search Mood")),l.a.createElement(M.a,{size:"md",className:"searchScreenField"},l.a.createElement(S.a,{type:"text",placeholder:"Enter mood/genre",onChange:e.onSearchChange,value:t,onKeyPress:e._handleKeyPress}),l.a.createElement(U.a,{addonType:"append"},l.a.createElement(w.a,{color:"purple",onClick:e.onClickSearch},"Search"))),l.a.createElement("div",null,e.processQuery()))}}),l.a.createElement(h.a,{to:"/home"}))))}}]),t}(n.Component),se=a(126),re=a(113),oe=a(114),ce=a(115),ie=a(116),ue=a(30),me=a.n(ue),pe=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(f.a,null,l.a.createElement(re.a,{color:"purple",light:!0,expand:"xs"},l.a.createElement(oe.a,{href:"/"},l.a.createElement("img",{src:me.a,alt:"logo",width:"7%",className:"brandLogo"}),l.a.createElement("span",{className:"brandText"},"RaveWave")),l.a.createElement(ce.a,{className:"ml-auto",navbar:!0},l.a.createElement(ie.a,null,l.a.createElement(se.a,{className:"hyp",to:"/signup"},"Signup")),l.a.createElement(ie.a,null,l.a.createElement(se.a,{className:"hyp",to:"/login"},"Login"))))))}}]),t}(n.Component),de=a(124),ge=a(117),he=a(118),fe=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(de.a,{nav:!0,inNavbar:!0,color:"darkPurple"},l.a.createElement(ge.a,{nav:!0,caret:!0},"Admin"),l.a.createElement(he.a,{right:!0},l.a.createElement(L.a,null,"Add Song"),l.a.createElement(L.a,null,"Remove Song"),l.a.createElement(L.a,null,"Remove User"),l.a.createElement(L.a,null,"Create Category"),l.a.createElement(L.a,null,"Remove")))}}]),t}(n.Component),Ee=(a(73),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).fetchAndLogout=function(e){fetch("/api/user/logout?token="+e).then(function(e){return e.json()}).then(function(e){e.success?(a.setState({logoutMessage:e.message}),window.location.reload()):a.setState({logoutMessage:e.message})})},a.state={logoutMessage:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(g.a,{render:function(t){var a=t.history;return l.a.createElement(w.a,{outline:!0,color:"darkPurple",className:"navoptions",type:"button",onClick:function(){a.push("/"),e.fetchAndLogout(e.props.sessionToken)}},"Logout")}}))}}]),t}(n.Component)),ye=a(119),ve=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggle=function(){a.setState({isOpen:!a.state.isOpen})},a.toggleNavbar=function(){a.setState({collapsed:!a.state.collapsed})},a.componentDidMount=function(){a.fetchUserProfile()},a.fetchUserProfile=Object(j.a)(N.a.mark(function e(){var t,n,l;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.sessionToken,l=t.userId,e.next=3,fetch("/api/user/retrieveuser?token="+n+"&userid="+l,{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.success?a.setState({user:e.user}):console.log("ERROR fetching data ")});case 3:case"end":return e.stop()}},e)})),a.state={isOpen:!1,user:null,collapsed:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=!1;this.state.user&&("admin"===this.state.user.status&&(e=!0));var t=this.state.user;return l.a.createElement("div",null,l.a.createElement(re.a,{color:"purple",light:!0},l.a.createElement(oe.a,{href:"/",className:"mr-2"},l.a.createElement("img",{src:me.a,alt:"logo",width:"7%",className:"brandLogo"}),l.a.createElement("span",{className:"loggedInText"},"RaveWave")),l.a.createElement(ye.a,{onClick:this.toggleNavbar,className:"mr-1"}),l.a.createElement(R.a,{isOpen:!this.state.collapsed,navbar:!0},l.a.createElement(ce.a,{className:"option",navbar:!0},l.a.createElement(ie.a,null,l.a.createElement(ie.a,null,t?l.a.createElement("div",null,l.a.createElement("div",{className:"navbarusername"},t.userName),l.a.createElement("div",{className:"navbarname"},t.firstName)):null,t?l.a.createElement("div",{className:"navbarname"}," ",t.firstname," "):null),l.a.createElement(ie.a,null,l.a.createElement(w.a,{className:"navoptions",outline:!0,color:"darkPurple",href:"/home"},"Search")),l.a.createElement(ie.a,null,l.a.createElement(w.a,{className:"navoptions",outline:!0,color:"darkPurple",href:"/playlist"},"Playlists")),l.a.createElement(ie.a,null,l.a.createElement(Ee,{className:"navoptions",sessionToken:this.props.sessionToken}))),e?l.a.createElement(ie.a,null,l.a.createElement(fe,null)):null))))}}]),t}(n.Component),Se=a(50),be=a.n(Se),ke=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleCallbackSetLoadingToTrue=function(){a.setState({loading:!0})},a.handleCallbackSetLoadingToFalse=function(){a.setState({loading:!1})},a.handleCallbackUpdateToken=function(e,t){a.setState({userId:t,token:e})},a.componentDidMount=function(){var e=function(e){if(!e)return null;try{var t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(a){return null}}("RaveWave");if(null!==e?console.log("Previous Token is found: "+e.token):console.log("Staring new login session"),e&&e.token){var t=e.token,n=e.userid;a.fetchAndVerifyToken(t,n)}else a.setState({loading:!1})},a.fetchUserProfile=function(){var e=a.props,t=e.sessionToken,n=e.userId;be.a.get("/api/user/retrieveuser?token="+t+"&userid="+n).then(function(e){var t=e.data;t.success?a.setState({userProfile:t.user}):console.log("ERROR fetching data ")})},a.state={loading:!0,token:"",userId:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"signedIn",value:function(){this.setState({loading:!1})}},{key:"fetchAndVerifyToken",value:function(e,t){var a=this;fetch("/api/user/verify?token="+e).then(function(e){return e.json()}).then(function(t){console.log("Success: "+t.success),t.success?a.setState({userId:t.userId,token:e,loading:!1}):a.setState({loading:!0})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading;return t.token?a?l.a.createElement("div",null,l.a.createElement("p",null,"Loading ...")):l.a.createElement(p.a,null,l.a.createElement("div",{className:"default"},l.a.createElement(h.a,{to:"/home"}),l.a.createElement(ve,{className:"NavigationBar",sessionToken:this.state.token,userId:this.state.userId}),l.a.createElement(le,{sessionToken:this.state.token,userId:this.state.userId}))):l.a.createElement("div",{className:"universal"},l.a.createElement(p.a,null,l.a.createElement(d.a,null,l.a.createElement(g.a,{path:"/",exact:!0,render:function(){return l.a.createElement(f.a,null,l.a.createElement(pe,null),l.a.createElement("div",{className:"welcomeText"},l.a.createElement(f.a,null,l.a.createElement("h1",{className:"title"},"Listen to what you feel"),l.a.createElement("h2",{className:"sub-title"},"Sign up today and find songs that match your mood"),l.a.createElement("h1",null,l.a.createElement(E.a,{href:"/signup",color:"purple",size:"xl",className:"defaultButton",pill:!0},l.a.createElement("div",{className:"text"},"Signup"))))))}}),l.a.createElement(g.a,{path:"/signup",exact:!0,render:function(t){return l.a.createElement("div",null,l.a.createElement(pe,null),l.a.createElement(O,Object.assign({},t,{triggerSetLoadingToTrue:e.handleCallbackSetLoadingToTrue,triggerSetLoadingToFalse:e.handleCallbackSetLoadingToFalse})))}}),l.a.createElement(g.a,{path:"/login",exact:!0,render:function(t){return l.a.createElement("div",null,l.a.createElement(pe,null),l.a.createElement(k,Object.assign({},t,{triggerUpdateToken:e.handleCallbackUpdateToken,triggerSetLoadingToTrue:e.handleCallbackSetLoadingToTrue,triggerSetLoadingToFalse:e.handleCallbackSetLoadingToFalse})))}}),l.a.createElement(g.a,{component:function(){return l.a.createElement("h2",null,"404 not found ")}}))))}}]),t}(n.Component),Oe=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(ke,{className:"default"}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(93);r.a.render(l.a.createElement(Oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[52,1,2]]]);
//# sourceMappingURL=main.7941346e.chunk.js.map